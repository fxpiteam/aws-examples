<html>
    <head>
    </head>

    <body>

        <h1>Latest matches</h1>
        <div id="entries">

        </div>

        <h1>New match</h1>
        <form>
            <label for="map">Map</label>
            <input type="text" id="map"> <br>
            
            <label for="weapon">Weapon</label>
            <input type="text" id="weapon"> <br>
            
            <label for="points">Points</label>
            <input type="number" id="points"> <br>
            
            <label for="mode">Mode</label>
            <input type="text" id="mode"> <br>
            
            <button id="submitButton">Submit</button>
        </form>

        <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="crossorigin="anonymous"></script>
        <script type="text/javascript">
            var VAR_URL = 'https://pxseppi1mg.execute-api.eu-central-1.amazonaws.com/prod/statistics';

            $(document).ready(function () {
                $.ajax({
                    type:'GET',
                    url: VAR_URL,

                    success: function(data) {
                        $('#entries').html('');

                        data.Items.forEach(function(blackopsItem) {
                            $('#entries').append('<p>' 
                            + blackopsItem.map + ', '
                            + blackopsItem.weapon + ', '
                            + blackopsItem.points + ', '
                            + blackopsItem.mode + ', ' 
                            + '</p>');
                        });
                    }
                })
            });    

            $('#submitButton').on('click', function() {
                $.ajax({
                    type:'POST',
                    url: VAR_URL,
                    data: JSON.stringify({
                        "map": $('#map').val(),
                        "weapon": $('#weapon').val(),
                        "points": $('#points').val(),
                        "mode": $('#mode').val(),
                        "date": Date.now()
                    }),
                    contentType: "application/json",

                    success: function(data) {
                        location.reload();
                    }
                });

                return false;

            });
        </script>